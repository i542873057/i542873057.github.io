{"title":"Echarts如何只做一个区或者一个县的地图","date":"2019-03-03T04:48:43.607Z","thumbnail":"./thumbnail/post5.png","slug":"post5","tags":["Echarts"],"updated":"2019-03-03T04:49:28.555Z","content":"<p>鉴于上篇文章<a href=\"https://www.jianshu.com/p/d6e889af6516\" target=\"_blank\" rel=\"noopener\">ECharts如何制作省份地图并在地图上显示自定义图标</a>有很多小伙伴问我如何只做一个区或者一个县的地图呀，于是写这篇文章给大家讲解一下。</p>\n<blockquote>\n<p>1.准备工作</p>\n</blockquote>\n<p>在ECharts中显示一个区需要单独的从省份中把这个区给扣出来，这时需要用到GEOJSON编辑工具，就是这个<a href=\"http://geojson.io\" target=\"_blank\" rel=\"noopener\">网站</a>，有了编辑工具那你肯定还需要省份或者区的数据嘛，因为我们需要从省份里面扣出区的图层，从区里面扣出县的图层。上篇文章中给出的地图数据不满足要求，这里我在<a href=\"https://github.com/longwosion/geojson-map-china\" target=\"_blank\" rel=\"noopener\">GITHUB</a>上面找到了一个新的，可以去下载一下。</p>\n<blockquote>\n<p>2.根据省份数据单独取出一个区的数据（县级一样，就不演示了）</p>\n</blockquote>\n<p>这里我还是用贵州省的地图来演示</p>\n<ol>\n<li>第一步先把贵州省的地图JSON数据拿过来<img src=\"https://upload-images.jianshu.io/upload_images/8084902-18c0a6797764ce78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"贵州省\"><br>2.把里面的数据复制到GEOJSON编辑工具中<img src=\"https://upload-images.jianshu.io/upload_images/8084902-31edf979fcb7d631.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"GEOJSON\">这里他会自动把你地图轮廓加载出来<br>3.移除不想要的部分，这里只想保留遵义的出，那我就把其它块都删除，选中不想要的区域，然后单击<strong>Delete feaure</strong>，删除完是这样的<img src=\"https://upload-images.jianshu.io/upload_images/8084902-2d78d2a4860f88c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"遵义市\"><br>4.把生成的JSON数据拷贝到上篇文章中的guizhou.js中<img src=\"https://upload-images.jianshu.io/upload_images/8084902-87f18247d6b826a3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"替换前\"><img src=\"https://upload-images.jianshu.io/upload_images/8084902-a5ab573aebe71cd7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"替换后\">保存并且刷新页面<img src=\"https://upload-images.jianshu.io/upload_images/8084902-f1955c539e9c4277.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"新的地图\"><br>这样一个区的地图就出来了，县级的也是一样的。。。大家也可以在编辑工具中用他的一些工具画出自己想要的区域，他提供</li>\n</ol>\n<blockquote>\n<p>下面我再教大家一下地图的拆分</p>\n</blockquote>\n<p>需要用到的<a href=\"http://www.dnccn.com/mapchaifen.html\" target=\"_blank\" rel=\"noopener\">地图拆分工具</a><br>1.首先把刚才生成的数据导出成GEOJSON文件<img src=\"https://upload-images.jianshu.io/upload_images/8084902-09f198dea8f627c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"导出\"><br>然后将文件拖入拆分工具中<img src=\"https://upload-images.jianshu.io/upload_images/8084902-16c18c1f6a976c06.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"拆分\"><br>然后右边有工具栏，选择好分割点1和分割点2，输入分割的区域一ID名称和分割的区域二ID名称点击确定<img src=\"https://upload-images.jianshu.io/upload_images/8084902-66d8d73e1eafc71c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"拆分完成\"><br>然后点击右边工具栏的下载，同样的把生成的json数据替换到之前的guizhou.js里面，然后刷新 页面<img src=\"https://upload-images.jianshu.io/upload_images/8084902-ff8ee795a6215072.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"最终页面\"><br><strong>可能大家会问我地图拆分什么情况下会用到呢，或者说是有什么用呢。一般下载到的地图数据可能只会到县的数据，再往下一些偏僻的地方比如农村啊什么的他是没有轮廓的，这时需要我们手动把这个轮廓给裁剪出来，拆分工具配合上面的GEOJSON编辑工具可以满足大多数人对地图的要求</strong></p>\n","next":{"title":"C#程序员又新添帮手:能更方便的在浏览器上运行C#代码啦","slug":"post3"},"link":"https://i542873057.github.io/post/post5/","reward":true,"copyright":{"author":"Jianan Shao","license":"邵佳楠的个人博客","published":"2019年3月3日","link":"<a href=\"https://i542873057.github.io/post/post5/\" title=\"Echarts如何只做一个区或者一个县的地图\">https://i542873057.github.io/post/post5/</a>"}}